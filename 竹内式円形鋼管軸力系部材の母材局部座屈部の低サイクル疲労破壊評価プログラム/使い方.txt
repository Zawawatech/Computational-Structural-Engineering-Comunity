#-----------------------------------------------------
#竹内式円形鋼管軸力系部材の母材局部座屈部の低サイクル疲労破壊評価プログラム
#　　　　　　　　　　　　CODED by Yuki TERAZAWA (2020)
#-----------------------------------------------------
a 用途
　このプログラムは繰返し変形による円形鋼管軸力系部材の疲労損傷を評価するプログラムです。
　Windows 10 64bitOS環境下で動作を確認しています。

b 使い方(1.以降がこのプログラムでの処理に関係します。)
　0.任意のソフトウェアを用いて骨組み系モデル(接合部を点、部材を線で表現するモデル)の時刻歴応答解析を行う。
　1.評価対象の円形鋼管部材について軸ひずみ時刻歴データ(軸ひずみ=軸変形量/節点間部材長さ)を記入したCSVファイル(ファイル名は任意)を用意する。※このCSVファイルは各行に時間、軸ひずみの順の数値データのみを羅列すること。
　2."InputFileIndex.csv"の2行目以降の各行に以下の必要事項を書き込む。
	・軸ひずみ時刻歴データCSVファイル名
	・外径D(mm)
	・板厚t(mm)
	・境界条件を考慮した座屈長さlk(mm)
	・降伏応力度(N/mm2)
	・座屈応力度(N/mm2)
	・疲労損傷の材料定数C
	・疲労損傷の材料定数m
	・全体座屈発生時間(無指定は0)		※指定した時間以降は全体座屈が生じていると仮定して局部歪が計算されます。局部座屈発生時間を超えている場合は局部座屈評価が優先されます。
	・局部座屈発生時間(無指定は0)		※指定した時間以降は局部座屈が生じていると仮定して局部歪が計算されます。
	・全体座屈発生歪(無次元、無指定は0)
	・局部座屈発生歪(無次元、無指定は0)
	・損傷度時刻歴ファイルの出力(Yes:1、No:0)
	※複数の軸ひずみ時刻歴データを一括して評価したい場合は、その行数分の必要事項を記入すること
　3.アプリを実行する。
　4.結果ファイルを確認して最終の累積塑性ひずみが疲労破壊が生じる累積塑性ひずみ(%)を下回っていることを確認する。

　※例題を用意しております。

c 入力ファイル
　・InputFileIndex.csv(評価するBRB軸ひずみ時刻歴データCSVファイルや疲労特性を指定する。)
　・軸ひずみ時刻歴データCSVファイル(ユーザーが任意名で用意する。)

d 出力ファイル
　・Out_DamageEvaluationCHS.csv(BRB損傷度評価のまとめ)
　・Out_DamageHistory_"軸ひずみ時刻歴データファイル名".csv　(累積塑性ひずみの時刻歴データ、InputFileIndex.csvで出力の有無を指定できる。)

e 円形鋼管部材の疲労損傷の評価方法について
　・局部座屈部局部歪および亀裂発生の評価方法は以下の論文の提案式を利用している。
	Takeuchi T. and Matsui R. : Cumulative Deformation Capacity of Circular Tubular Braces under Local Buckling, Journal of Structural Engineering, ASCE, Vol. 137, No.11, pp.1311-1318, 2011. 11
	竹内 徹，堀内健太郎，松井良太，小河利行，今村 晃：鋼管部材の座屈および破断を考慮したトラス鉄塔の崩壊機構，日本建築学会，Vol.79，No.703，pp.1309-1319，2014.9
	寺澤友貴，松井良太，中村毅，竹内徹：径厚比の異なる円形鋼管ブレース付鋼構造骨組の累積変形性能と構造特性係数，日本建築学会構造系論文集，Vol. 82，No. 739，pp.1485-1495，2017.9
　・平均塑性ひずみ振幅は，レインフロー法にて処理した軸ひずみの頻度数と歪範囲の値より算出する。
	平均塑性ひずみ振幅 = (Σ(その頻度範囲の歪振幅)×(その頻度数)) / (総頻度数)　※平均塑性ひずみ振幅は全振幅として評価する。
　・レインフロー法の頻度は範囲数50，範囲間の歪は0.02として評価している。
　・計算負荷を軽減するために事前に局部歪振幅を極値分解した履歴をステップ毎にレインフロー処理するため、軸ひずみデータを逐次更新していく破壊解析と亀裂発生時期がコンマ数秒ズレます。
　・10%を超える局部歪を取り扱うため、レインフロー処理の際に1%以下の小さな振幅を集計から除いています。

f その他、免責事項
　・本プログラムは寺澤友貴(東京工業大学環境・社会理工学院建築学系助教、2020年時点)がPython 3.5環境下にて作成しました。
　・本プログラムは無償でご使用いただけます。
　・コンパイル元のPythonスクリプトは無償で提供します。スクリプトは各自の都合に合わせてカスタマイズしていただいて構いませんが、二次配布はご遠慮下さい。
　・本プログラムを用いた結果生じるいかなる直接的・間接的損害について寺澤友貴は一切その責任を負いません。
　・本プログラムに関するバグ報告、要望は寺澤友貴までご連絡下さい。いつでも受け付けております。
　・本プログラムの結果を公表する場合は寺澤友貴までご一報いただけますと幸甚です。

-- 
------------------------------------
Yuki TERAZAWA (Assistant Professor)
Takeuchi Lab.,
Dept. Arch. & Build. Eng., 
Tokyo Institute of Technology
TEL/FAX +81-03-5734-3165
E-mail terazawa.y.aa@m.titech.ac.jp
------------------------------------